# Development override
# Usage: docker compose -f docker-compose.yml -f docker-compose.dev.yml --env-file .env.ports up

services:
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile.dev
    ports:
      - "${PORT_FRONTEND:-10001}:5173"
    volumes:
      - ./frontend/src:/app/src
      - ./frontend/public:/app/public
      - ./frontend/index.html:/app/index.html

  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile.dev
    volumes:
      - ./backend/src:/app/src
      - ./backend/nodemon.json:/app/nodemon.json
      - ./backend/prisma:/app/prisma
      - ./backend/prisma.config.ts:/app/prisma.config.ts
    environment:
      - NODE_ENV=development
      - CORS_ORIGIN=${CORS_ORIGIN:-http://localhost:10001}
